{% extends "base.html" %}
{% load static %}
{% load event_status %}

{% block head %}
<link rel="stylesheet" href='{% static "css/slider.css" %}'>
<script src='{% static "js/vendor/bootstrap-slider.js" %}'></script>
<script src='{% static "js/historic.js" %}'></script>
{% endblock head %}

{% block title %}
    - Place {{ place }} - Historic
{% endblock %}

{% block navbar %}
    <li><a href='{% url "map_home" %}'>My places</a></li>
{% endblock navbar %}

{% block content %}
    <div>
        <h1><span id="floor_title">{{ place }}</span></h1>
    </div>

    <div class="col-md-12 map-container well">
        {% block popup %}
            {% include "popup_sensor.html" %}
        {% endblock %}

        <div style='background-image:url("{{ map }}");' class="map">
            <canvas id="place_canvas" width="700" height="400">
                Your browser does not support the HTML5 canvas tag.
            </canvas>
        </div>

    <div class="form-group">
        <span>00:00 a.m. </span>
        <input id="slider"
               type="number"
               class="form-control"
               data-slider-min="0"
               data-slider-max="86399"
               data-slider-step="1"
               data-slider-value="0"
               data-slider-tooltip="show" />
        <span> 11:59 p.m.</span>
    </div>

    </div>
    <script type="text/javascript">
        var time = 0;
        var sensors = [{{ sensors | safe }}];
        var slider = $('#slider').slider({formater: number2Time})
        slider.on('slide', function(value){
            time = value.value;
        });
    </script>
    <script src='{% static "js/place_details.js" %}'></script>
{% endblock %}