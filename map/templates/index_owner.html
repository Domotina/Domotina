{% extends "base_owner.html"%}
{% load static %}

{% block title %}
Place {{place}}
{% endblock %}

{% block content %}
<div class="col-md-8">
    <div class="col-md-12">
        <div style='background-image:url("{{ map_url }}");' class="map">
            <canvas id="place_canvas" width="700" height="400">
                Your browser does not support the HTML5 canvas tag.
            </canvas>
            <script>
                {{ show_icons_script|safe}}
            </script>
        </div>
    </div>
    <div class="col-md-12">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">EVENTS</h3>
        </div>
        <ul class="list-group">
            {% for event in events %}
            <li class="list-group-item">{{event.timestamp}} - {{event.sensor}} reported {{event.type}}</li>
            {% empty %}
            <li class="list-group-item">There are no events in this place</li>
            {% endfor %}
        </ul>
    </div>
    </div>
</div>
<div class="col-md-4">
        <div class="panel panel-warning">
            <div class="panel-heading">
                <h3 class="panel-title">ALARMS</h3>
            </div>
            <ul class="list-group">
                {% for alarm in alarms %}
                <li class="list-group-item">{{alarm.activation_date}} - Alarm generated from {{alarm.event.type}} on
                    {{alarm.event.sensor}}
                </li>
                {% empty %}
                <li class="list-group-item">There are no alarms in this place</li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}